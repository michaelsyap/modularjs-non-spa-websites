!function(t){"use strict";function o(){return this}function e(t){return t instanceof jQuery&&t.length>0||!(t instanceof jQuery||!t)}function n(t){return t in i}var i={};o.prototype.register=function(t){if(t&&!n(t.name))return i[t.name]=t.obj,!0;throw new Error("Module your trying to add already existed.")},o.prototype.getModule=function(t){return!!n(t)&&i[t]},o.prototype.getAllModules=function(){return i},o.prototype.init=function(){var t;for(t in i)i[t].hasOwnProperty("element")&&e(i[t].element)&&i[t].hasOwnProperty("init")&&i[t].init&&i[t].init()},t.app=t.app||{},t.app.NWModule=o}(window),function(t){"use strict";function o(o){o&&(console.log(o),c.todoItems.unshift(o)),t.localStorage.setItem("todo-demo",JSON.stringify(c.todoItems))}function e(t){var e,n=t.id;e=c.todoItems.map(function(t){return t.id}).indexOf(n),c.todoItems.splice(e,1),o()}function n(t){var e,n=t.id;e=c.todoItems.map(function(t){return t.id}).indexOf(parseInt(n)),c.todoItems[e]=t,o()}function i(t){var o;if("active"===t)o=c.todoItems.filter(function(t){return t.done===!1});else{if("done"!==t)return c.todoItems;o=c.todoItems.filter(function(t){return t.done===!0})}return console.log(o),o}function d(t){var o;return o=c.todoItems.map(function(t){return t.id}).indexOf(parseInt(t)),c.todoItems[o]}function r(){console.log("Todo model initiated..."),t.localStorage.getItem("todo-demo")?c.todoItems=JSON.parse(t.localStorage.getItem("todo-demo")):t.localStorage.setItem("todo-demo",JSON.stringify([]))}var a,s=new app.NWModule,c={todoItems:[]};a={element:document.querySelector("body"),init:r,saveTodo:o,getTodoItems:i,getTodoItem:d,updateTodoItem:n,removeTodoItem:e},s.register({name:"todo-model",obj:a})}(window),function(t){"use strict";function o(){u.$todoListContainer.on("click",".delete-todo",function(t){var o=$(this);return c.removeTodoItem({id:parseInt(o.attr("data-id"))}),d(),!1})}function e(){var t;u.$todoListContainer.on("dblclick",".todo-description",function(o){var e=$(this);t=e.parents(".todo-item"),t.addClass("-edit-mode"),t.find(".todo-description-input").focus()}),u.$todoListContainer.on("keypress",".todo-description-input",function(o){var e=$(this),n=e.attr("data-id"),i=c.getTodoItem(n);e.val().trim().length>0&&o.keyCode===u.ENTER_KEY&&(i.description=e.val().trim(),c.updateTodoItem(i),t.removeClass("-edit-mode"),d())}),u.$todoListContainer.on("blur",".todo-description-input",function(o){var e=$(this),n=e.attr("data-id"),i=c.getTodoItem(n);e.val().trim().length>0?(i.description=e.val().trim(),c.updateTodoItem(i)):c.removeTodoItem(i),t.removeClass("-edit-mode"),d()}),u.$todoListContainer.on("change",".status-toggle",function(o){var e=$(this),n=e.attr("data-id"),i=c.getTodoItem(n);t=e.parents(".todo-item"),i.done=!i.done,i.done?t.addClass("-done"):t.removeClass("-done"),c.updateTodoItem(i),d()})}function n(){var t=u.$todoListSwitcher.find(".list-category.active");u.$todoListSwitcher.on("click",".list-category",function(o){var e=$(this);return u.category=e.attr("data-category"),t.removeClass("active"),e.addClass("active"),t=e,d(),!1})}function i(){o(),e(),n()}function d(){var t="";u.$todoListContainer.html(""),c.getTodoItems(u.category).forEach(function(o){var e=o.done?"checked":"",n="checked"===e?"-done":"";t+='<li class="todo-item list-group-item '+n+'"><div class="todo-info-actions clearfix"><input type="checkbox" class="status-toggle" data-id="'+o.id+'" '+e+'>&nbsp; <span class="todo-description">'+o.description+'</span><button class="btn btn-danger pull-right delete-todo" data-id="'+o.id+'"><i class="fa fa-trash"></i></button></div><div class="todo-update-container"><input type="text" class="form-control todo-description-input" data-id="'+o.id+'" value="'+o.description+'"></div></li>'}),u.$todoListContainer.html(t)}function r(){console.log("Todo: List module initiated..."),i(),d()}var a,s=new app.NWModule,c=s.getModule("todo-model"),u={ENTER_KEY:13,$todoList:$("#todo-list"),$todoListContainer:$("#todo-list-container"),$todoListSwitcher:$("#todo-list-switcher"),currentCategory:"all"};a={element:u.$todoList,init:r,renderTodoItems:d},s.register({name:"todo-list",obj:a})}(window),function(t){"use strict";function o(){c.$todoForm.on("submit",function(t){return!1})}function e(){c.$todoItemName.on("keypress",function(t){var o=$(this);o.val().trim().length>0&&t.keyCode===c.ENTER_KEY&&(a.saveTodo({id:Date.now(),description:o.val(),done:!1}),o.val(""),s.renderTodoItems())})}function n(){o(),e()}function i(){console.log("Todo: Form module initiated..."),n()}var d,r=new app.NWModule,a=r.getModule("todo-model"),s=r.getModule("todo-list"),c={ENTER_KEY:13,$todoForm:$("#todo-form"),$todoItemName:$("#todo-item-name")};d={element:c.$todoForm,init:i},r.register({name:"todo-form-control",obj:d})}(window),function(t,o,e){"use strict";var n=new app.NWModule;e.addEventListener("DOMContentLoaded",function(t){n.init()})}(jQuery,window,document);