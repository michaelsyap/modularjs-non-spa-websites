!function(t){"use strict";function o(){return this}function e(t){return t in n}var n={};o.prototype.register=function(t){if(t&&!e(t.name))return n[t.name]=t.obj,!0;throw new Error("Module your trying to add already existed.")},o.prototype.getModule=function(t){return!!e(t)&&n[t]},o.prototype.getAllModules=function(){return n},o.prototype.init=function(){var t;for(t in n)n[t].hasOwnProperty("element")&&n[t].element&&n[t].hasOwnProperty("init")&&n[t].init&&n[t].init()},t.app=t.app||{},t.app.NWModule=o}(window),function(t){"use strict";function o(){}function e(){console.log("Helper module initiated..."),o()}var n,i=new app.NWModule,d={};n={element:document.querySelector("body"),settings:d,init:e},i.register({name:"helpers",obj:n})}(window),function(t){"use strict";function o(){}function e(){console.log("Global module initiated..."),o()}var n,i=new app.NWModule,d=(i.getModule("helpers"),{});n={element:document.querySelector("body"),settings:d,init:e},i.register({name:"global-module",obj:n})}(window),function(t){"use strict";function o(o){o&&(console.log(o),l.todoItems.unshift(o)),t.localStorage.setItem("todo-demo",JSON.stringify(l.todoItems))}function e(t){var e,n=t.id;e=l.todoItems.map(function(t){return t.id}).indexOf(n),l.todoItems.splice(e,1),o()}function n(t){var e,n=t.id;e=l.todoItems.map(function(t){return t.id}).indexOf(parseInt(n)),l.todoItems[e]=t,o()}function i(t){var o;if("active"===t)o=l.todoItems.filter(function(t){return t.done===!1});else{if("done"!==t)return l.todoItems;o=l.todoItems.filter(function(t){return t.done===!0})}return console.log(o),o}function d(t){var o;return o=l.todoItems.map(function(t){return t.id}).indexOf(parseInt(t)),l.todoItems[o]}function r(){console.log("Todo model initiated..."),t.localStorage.getItem("todo-demo")?l.todoItems=JSON.parse(t.localStorage.getItem("todo-demo")):t.localStorage.setItem("todo-demo",JSON.stringify([]))}var a,s=new app.NWModule,l=(s.getModule("helpers"),{todoItems:[]});a={element:document.querySelector("body"),init:r,saveTodo:o,getTodoItems:i,getTodoItem:d,updateTodoItem:n,removeTodoItem:e},s.register({name:"todo-model",obj:a})}(window),function(t){"use strict";function o(){c.$todoListContainer.on("click",".delete-todo",function(t){var o=$(this);return l.removeTodoItem({id:parseInt(o.attr("data-id"))}),d(),!1})}function e(){var t;c.$todoListContainer.on("dblclick",".todo-description",function(o){var e=$(this);t=e.parents(".todo-item"),t.addClass("-edit-mode"),t.find(".todo-description-input").focus()}),c.$todoListContainer.on("keypress",".todo-description-input",function(o){var e=$(this),n=e.attr("data-id"),i=l.getTodoItem(n);e.val().trim().length>0&&o.keyCode===c.ENTER_KEY&&(i.description=e.val().trim(),l.updateTodoItem(i),t.removeClass("-edit-mode"),d())}),c.$todoListContainer.on("blur",".todo-description-input",function(o){var e=$(this),n=e.attr("data-id"),i=l.getTodoItem(n);e.val().trim().length>0?(i.description=e.val().trim(),l.updateTodoItem(i)):l.removeTodoItem(i),t.removeClass("-edit-mode"),d()}),c.$todoListContainer.on("change",".status-toggle",function(o){var e=$(this),n=e.attr("data-id"),i=l.getTodoItem(n);t=e.parents(".todo-item"),i.done=!i.done,i.done?t.addClass("-done"):t.removeClass("-done"),l.updateTodoItem(i),d()})}function n(){var t=c.$todoListSwitcher.find(".list-category.active");c.$todoListSwitcher.on("click",".list-category",function(o){var e=$(this);return c.category=e.attr("data-category"),t.removeClass("active"),e.addClass("active"),t=e,d(),!1})}function i(){o(),e(),n()}function d(){var t="";c.$todoListContainer.html(""),l.getTodoItems(c.category).forEach(function(o){var e=o.done?"checked":"",n="checked"===e?"-done":"";t+='<li class="todo-item list-group-item '+n+'"><div class="todo-info-actions clearfix"><input type="checkbox" class="status-toggle" data-id="'+o.id+'" '+e+'>&nbsp; <span class="todo-description">'+o.description+'</span><button class="btn btn-danger pull-right delete-todo" data-id="'+o.id+'"><i class="fa fa-trash"></i></button></div><div class="todo-update-container"><input type="text" class="form-control todo-description-input" data-id="'+o.id+'" value="'+o.description+'"></div></li>'}),c.$todoListContainer.html(t)}function r(){console.log("Todo: List module initiated..."),i(),d()}var a,s=new app.NWModule,l=(s.getModule("helpers"),s.getModule("todo-model")),c={ENTER_KEY:13,$todoList:$("#todo-list"),$todoListContainer:$("#todo-list-container"),$todoListSwitcher:$("#todo-list-switcher"),currentCategory:"all"};a={element:c.$todoList,init:r,renderTodoItems:d},s.register({name:"todo-list",obj:a})}(window),function(t){"use strict";function o(){l.$todoForm.on("submit",function(t){return!1})}function e(){l.$todoItemName.on("keypress",function(t){var o=$(this);o.val().trim().length>0&&t.keyCode===l.ENTER_KEY&&(a.saveTodo({id:Date.now(),description:o.val(),done:!1}),o.val(""),s.renderTodoItems())})}function n(){o(),e()}function i(){console.log("Todo: Form module initiated..."),n()}var d,r=new app.NWModule,a=(r.getModule("helpers"),r.getModule("todo-model")),s=r.getModule("todo-list"),l={ENTER_KEY:13,$todoForm:$("#todo-form"),$todoItemName:$("#todo-item-name")};d={element:l.$todoForm,init:i},r.register({name:"todo-form-control",obj:d})}(window),function(t,o,e){"use strict";var n=new app.NWModule;e.addEventListener("DOMContentLoaded",function(t){n.init()})}(jQuery,window,document);